<div _="on load set #serving_amount.value to 1 then set $serving_amount to 1 then set $calories to 100 then set #total-calories.innerHTML to $serving_amount * $calories">
    <h1> Add Log: {{food.brand}} - {{food.name}}</h1> 
    Total Calories: <div id="total-calories" _="on change from .total-calc set my.innerHTML to $serving_amount * $calories"></div>

    <form hx-post="/food_log" hx-target="#content" hx-ext='json-enc' name="food_log">
        <label for="date">
            Date: <input type="date" id="date" name="date" _="on load make a Date then set my.value to it.toLocaleDateString('sv')">
        </label>
        <label for="food_id">
            <input hidden type="number"  id="food_id" name="food_id" value="{{food.id}}">
        </label>
        <label for="serving">
            Serving: 
            <select type="date" id="serving" name="serving">
                {% include "log/inputs/serving_option.html"%}    
            </select>
        </label>
        <label for="serving_id">
            <input type="number" id="serving_id" name="serving_size_id" value={{serving_id}}>
            <input type="number" class="total-calc" id="serving_cals" value="100" _="on change set $calories to my.value"/>
        </label>
        <label for="serving_amount">
            Serving Amount: <input type="number" class="total-calc" min="0" id="serving_amount" name="serving_amount" _="on change set $serving_amount to my.value">
        </label>

        <button >Add Log</button>
        
    </form>
</div>