{% if not hx_request %}{% extends "index.html" %}{% endif %}

{% block content %}
<div hx-trigger="click" hx-get="/food_log/create" hx-target="#create_food_log">Create Food Log</div>
<div id="create_food_log"></div>
<table name="food_log">
    <thead>
        <tr>
            <th id="log_date">Date</th>
            <th id="log_food">Food</th>
            <th id="log_serving_size_description">Serving Size</th>
            <th id="log_serving_amount">Amount</th>
            <th id="log_serving_calories">Total Calories</th>
        </tr>
    </thead>
    <tbody>
        {% for log in logs %}
        <tr name="food_log_id" hx-push-url="true" hx-trigger="{{trigger}}" hx-get="/food_log/{{log.id}}" hx-target="#content">
            <td headers="log_date">{{log.date}}</td>
            <td headers="log_food">{{log.serving_size.food.brand}}, {{log.serving_size.food.name}}</td>
            <td headers="log_serving_size_description">{{log.serving_size.description}}</td>
            <td headers="log_serving_amount">{{log.serving_amount}}</td>
            <td headers="log_calories">{{log.serving_amount * log.serving_size.calories}}</td>
        </tr>
        {% endfor %}
    </tbody>
</table>
{% endblock %}

