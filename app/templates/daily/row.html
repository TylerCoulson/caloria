{% for daily in dailies %}
{% if loop.first %}
<input hidden id="max_{{daily.date}}" type="date" _="on load make a Date then set my.value to it.toLocaleDateString('sv')">
<input hidden id="hidden_{{daily.date}}" type="date" value="{{daily.date}}">
<tr id="{{ daily.date }}" _="on load if #hidden_{{daily.date}}.value > #max_{{daily.date}}.value hide me">
{% else %}
<tr id="{{ daily.date }}" {% if loop.previtem.week != daily.week %}style="border-top-style: dashed;  border-color: #f4511e;" {% endif %}>
{% endif %}
    <td hidden headers="week">{{ daily.week }}</td>
    <td headers="day">{{ daily.day }}</td>
    <td headers="date">{{ daily.date }}</td>
    {% include "daily/activity_level.html" %}

    {% include "daily/weight_column.html"%}

    <td headers="est_weight">{{ daily.est_weight }}</td>
    <td hidden headers="bmi">{{ daily.bmi }}</td>
    <td hidden headers="resting_rate">{{ daily.resting_rate }}</td>
    <td headers="eaten_calories">{{ "{:,}".format(daily.eaten_calories|int) }}</td>
    <td headers="eaten_fats">{{ "{:,}".format(daily.eaten_fats|int) }}</td>
    <td headers="eaten_carbs">{{ "{:,}".format(daily.eaten_carbs|int) }}</td>
    <td headers="eaten_protein">{{ "{:,}".format(daily.eaten_protein|int) }}</td>    
    <td headers="calorie_goal">{{ "{:,}".format(daily.calorie_goal|int) }}</td>
    <td headers="calories_left">{{ "{:,}".format(daily.calories_left|int)  }}</td>
    <td hidden headers="total_lbs_lost">{{ daily.total_lbs_lost }}</td>
    <td headers="calorie_surplus">{{ "{:,}".format(daily.calorie_surplus|int) }}</td>
    
</tr>
{% endfor %}
